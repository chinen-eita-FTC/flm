# モデルレイヤ

## モデルレイヤの責務
本アプリケーションにおけるモデルレイヤは以下の責務を果たすものとする。  
- パブリックメソッドではクエリの発行、リレーションを定義すること  
- プロパティにはモデル規約を定義すること
- ビジネスロジックには一切の関心を払わないこと 
　例：クエリ発行後の業務要件にあわせたコレクション操作など

## 命名規約
ここではモデルレイヤのメソッドの命名規約について記載する。

### クラスの命名規約
クラス名は原則として `対応するテーブルの物理名の単数形` とする。  
例）テーブル物理名が `tests` の場合  
 ⇒ クラス名を `test` と定義

### パブリックメソッドの命名規約
クエリ発行のためのパブリックメソッドの命名は原則として以下のとおりである。  
ただし、メソッド名が煩雑になる場合は簡素に表現できる内容に変更する。  

| 操作内容                        | 命名規約                        |  
|---------------------------------|---------------------------------|  
|単数のレコードを参照する場合       | get + <対象モデル名の単数形>      |  
|複数のレコードを参照する場合       | get + <対象モデル名の複数形>      |  
|単数のレコードを作成する場合       | create + <対象モデル名の単数形>   |  
|複数のレコードを作成する場合       | create + <対象モデル名の複数形>   |  
|単数のレコードを更新する場合       | update + <対象モデル名の単数形>   |  
|複数のレコードを更新する場合       | update + <対象モデル名の複数形>   |  
|単数のレコードを削除する場合       | delete + <対象モデル名の単数形>   |  
|複数のレコードを削除する場合       | delete + <対象モデル名の複数形>   |  

例）`tests` テーブルのレコードを `name` というカラムで取得する場合  
  ⇒ パブリックメソッド名を `getTestByName` と定義  

## モデルレイヤの入力
モデルレイヤの入力は原則としてサービスレイヤからの出力を期待する。  
サービスレイヤからの入力値の型は任意の型に応じるものとする。

## モデルレイヤの出力
モデルレイヤの出力は `Collection` 型を返却する。  